{"ast":null,"code":"var _jsxFileName = \"E:\\\\my-job-portal\\\\job-portal-frontend\\\\src\\\\components\\\\context\\\\JobContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"./AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JobContext = /*#__PURE__*/createContext();\nconst API = \"http://azan-job-portal.onrender.com/api/jobs\";\nexport const JobProvider = ({\n  children\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [jobs, setJobs] = useState([]);\n  const [userJobs, setUserJobs] = useState([]);\n  const fetchAllJobs = useCallback(async () => {\n    try {\n      const res = await axios.get(API); // public jobs\n      setJobs(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch jobs\", err);\n    }\n  }, []);\n  const fetchMyJobs = useCallback(async () => {\n    if (!(user !== null && user !== void 0 && user.token)) return;\n    try {\n      const res = await axios.get(`${API}/my`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setUserJobs(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch my jobs\", err);\n    }\n  }, [user]);\n  const addJob = async jobData => {\n    if (!(user !== null && user !== void 0 && user.token)) return alert(\"Login first\");\n    try {\n      const res = await axios.post(API, jobData, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setUserJobs(prev => [res.data, ...prev]);\n      setJobs(prev => [res.data, ...prev]);\n      return res.data;\n    } catch (err) {\n      console.error(\"Failed to add job\", err);\n      alert(\"Failed to add job\");\n    }\n  };\n  const editJob = async (id, updatedJob) => {\n    if (!(user !== null && user !== void 0 && user.token)) return alert(\"Login first\");\n    try {\n      const res = await axios.put(`${API}/${id}`, updatedJob, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setUserJobs(prev => prev.map(j => j._id === id ? res.data : j));\n      setJobs(prev => prev.map(j => j._id === id ? res.data : j));\n    } catch (err) {\n      console.error(\"Failed to edit job\", err);\n    }\n  };\n  const deleteJob = async id => {\n    if (!(user !== null && user !== void 0 && user.token)) return alert(\"Login first\");\n    try {\n      await axios.delete(`${API}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setUserJobs(prev => prev.filter(j => j._id !== id));\n      setJobs(prev => prev.filter(j => j._id !== id));\n    } catch (err) {\n      console.error(\"Failed to delete job\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(JobContext.Provider, {\n    value: {\n      jobs,\n      userJobs,\n      fetchAllJobs,\n      fetchMyJobs,\n      addJob,\n      editJob,\n      deleteJob\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(JobProvider, \"CHwaNWrWKriQo/pEXpjBYuMN8NE=\", false, function () {\n  return [useAuth];\n});\n_c = JobProvider;\nexport const useJobs = () => {\n  _s2();\n  return useContext(JobContext);\n};\n_s2(useJobs, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"JobProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","axios","useAuth","jsxDEV","_jsxDEV","JobContext","API","JobProvider","children","_s","user","jobs","setJobs","userJobs","setUserJobs","fetchAllJobs","res","get","data","err","console","error","fetchMyJobs","token","headers","Authorization","addJob","jobData","alert","post","prev","editJob","id","updatedJob","put","map","j","_id","deleteJob","delete","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useJobs","_s2","$RefreshReg$"],"sources":["E:/my-job-portal/job-portal-frontend/src/components/context/JobContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\nconst JobContext = createContext();\r\nconst API = \"http://azan-job-portal.onrender.com/api/jobs\";\r\n\r\n\r\nexport const JobProvider = ({ children }) => {\r\n  const { user } = useAuth();\r\n  const [jobs, setJobs] = useState([]);\r\n  const [userJobs, setUserJobs] = useState([]);\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n  const fetchAllJobs = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get(API); // public jobs\r\n      setJobs(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch jobs\", err);\r\n    }\r\n  }, []);\r\n\r\n  const fetchMyJobs = useCallback(async () => {\r\n    if (!user?.token) return;\r\n    try {\r\n      const res = await axios.get(`${API}/my`, {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      });\r\n      setUserJobs(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch my jobs\", err);\r\n    }\r\n  }, [user]);\r\n\r\n  const addJob = async (jobData) => {\r\n    if (!user?.token) return alert(\"Login first\");\r\n    try {\r\n      const res = await axios.post(API, jobData, {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      });\r\n      setUserJobs(prev => [res.data, ...prev]);\r\n      setJobs(prev => [res.data, ...prev]);\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error(\"Failed to add job\", err);\r\n      alert(\"Failed to add job\");\r\n    }\r\n  };\r\n\r\n  const editJob = async (id, updatedJob) => {\r\n    if (!user?.token) return alert(\"Login first\");\r\n    try {\r\n      const res = await axios.put(`${API}/${id}`, updatedJob, {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      });\r\n      setUserJobs(prev => prev.map(j => j._id === id ? res.data : j));\r\n      setJobs(prev => prev.map(j => j._id === id ? res.data : j));\r\n    } catch (err) {\r\n      console.error(\"Failed to edit job\", err);\r\n    }\r\n  };\r\n\r\n  const deleteJob = async (id) => {\r\n    if (!user?.token) return alert(\"Login first\");\r\n    try {\r\n      await axios.delete(`${API}/${id}`, {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      });\r\n      setUserJobs(prev => prev.filter(j => j._id !== id));\r\n      setJobs(prev => prev.filter(j => j._id !== id));\r\n    } catch (err) {\r\n      console.error(\"Failed to delete job\", err);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <JobContext.Provider value={{\r\n      jobs,\r\n      userJobs,\r\n      fetchAllJobs,\r\n      fetchMyJobs,\r\n      addJob,\r\n      editJob,\r\n      deleteJob,\r\n      \r\n  \r\n    }}>\r\n      {children}\r\n    </JobContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useJobs = () => useContext(JobContext);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/E,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,UAAU,gBAAGR,aAAa,CAAC,CAAC;AAClC,MAAMS,GAAG,GAAG,8CAA8C;AAG1D,OAAO,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM;IAAEC;EAAK,CAAC,GAAGR,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAW5C,MAAMgB,YAAY,GAAGf,WAAW,CAAC,YAAY;IAC3C,IAAI;MACF,MAAMgB,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAACX,GAAG,CAAC,CAAC,CAAC;MAClCM,OAAO,CAACI,GAAG,CAACE,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;IAC5C;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,WAAW,GAAGtB,WAAW,CAAC,YAAY;IAC1C,IAAI,EAACU,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEa,KAAK,GAAE;IAClB,IAAI;MACF,MAAMP,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,GAAGX,GAAG,KAAK,EAAE;QACvCkB,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUf,IAAI,CAACa,KAAK;QAAG;MACnD,CAAC,CAAC;MACFT,WAAW,CAACE,GAAG,CAACE,IAAI,CAAC;IACvB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;IAC/C;EACF,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;EAEV,MAAMgB,MAAM,GAAG,MAAOC,OAAO,IAAK;IAChC,IAAI,EAACjB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEa,KAAK,GAAE,OAAOK,KAAK,CAAC,aAAa,CAAC;IAC7C,IAAI;MACF,MAAMZ,GAAG,GAAG,MAAMf,KAAK,CAAC4B,IAAI,CAACvB,GAAG,EAAEqB,OAAO,EAAE;QACzCH,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUf,IAAI,CAACa,KAAK;QAAG;MACnD,CAAC,CAAC;MACFT,WAAW,CAACgB,IAAI,IAAI,CAACd,GAAG,CAACE,IAAI,EAAE,GAAGY,IAAI,CAAC,CAAC;MACxClB,OAAO,CAACkB,IAAI,IAAI,CAACd,GAAG,CAACE,IAAI,EAAE,GAAGY,IAAI,CAAC,CAAC;MACpC,OAAOd,GAAG,CAACE,IAAI;IACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC;MACvCS,KAAK,CAAC,mBAAmB,CAAC;IAC5B;EACF,CAAC;EAED,MAAMG,OAAO,GAAG,MAAAA,CAAOC,EAAE,EAAEC,UAAU,KAAK;IACxC,IAAI,EAACvB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEa,KAAK,GAAE,OAAOK,KAAK,CAAC,aAAa,CAAC;IAC7C,IAAI;MACF,MAAMZ,GAAG,GAAG,MAAMf,KAAK,CAACiC,GAAG,CAAC,GAAG5B,GAAG,IAAI0B,EAAE,EAAE,EAAEC,UAAU,EAAE;QACtDT,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUf,IAAI,CAACa,KAAK;QAAG;MACnD,CAAC,CAAC;MACFT,WAAW,CAACgB,IAAI,IAAIA,IAAI,CAACK,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKL,EAAE,GAAGhB,GAAG,CAACE,IAAI,GAAGkB,CAAC,CAAC,CAAC;MAC/DxB,OAAO,CAACkB,IAAI,IAAIA,IAAI,CAACK,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKL,EAAE,GAAGhB,GAAG,CAACE,IAAI,GAAGkB,CAAC,CAAC,CAAC;IAC7D,CAAC,CAAC,OAAOjB,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEF,GAAG,CAAC;IAC1C;EACF,CAAC;EAED,MAAMmB,SAAS,GAAG,MAAON,EAAE,IAAK;IAC9B,IAAI,EAACtB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEa,KAAK,GAAE,OAAOK,KAAK,CAAC,aAAa,CAAC;IAC7C,IAAI;MACF,MAAM3B,KAAK,CAACsC,MAAM,CAAC,GAAGjC,GAAG,IAAI0B,EAAE,EAAE,EAAE;QACjCR,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUf,IAAI,CAACa,KAAK;QAAG;MACnD,CAAC,CAAC;MACFT,WAAW,CAACgB,IAAI,IAAIA,IAAI,CAACU,MAAM,CAACJ,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKL,EAAE,CAAC,CAAC;MACnDpB,OAAO,CAACkB,IAAI,IAAIA,IAAI,CAACU,MAAM,CAACJ,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKL,EAAE,CAAC,CAAC;IACjD,CAAC,CAAC,OAAOb,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;IAC5C;EACF,CAAC;EAID,oBACEf,OAAA,CAACC,UAAU,CAACoC,QAAQ;IAACC,KAAK,EAAE;MAC1B/B,IAAI;MACJE,QAAQ;MACRE,YAAY;MACZO,WAAW;MACXI,MAAM;MACNK,OAAO;MACPO;IAGF,CAAE;IAAA9B,QAAA,EACCA;EAAQ;IAAAmC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAE1B,CAAC;AAACrC,EAAA,CA7FWF,WAAW;EAAA,QACLL,OAAO;AAAA;AAAA6C,EAAA,GADbxC,WAAW;AA+FxB,OAAO,MAAMyC,OAAO,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMnD,UAAU,CAACO,UAAU,CAAC;AAAA;AAAC4C,GAAA,CAAvCD,OAAO;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}